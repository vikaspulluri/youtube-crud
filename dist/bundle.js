!function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);var o=function(){function e(e){this.numberOfViews=0,this.likes=0,this.dislikes=0,this.title=e._name,this._id=e.ID,this.videoUrl=e._videoUrl,this.videoCategory=e._category,this.videoThumbnailsUrl=e._thumbnails||[],this.isCensoredConent=e._isCensored||!1,this.uploader=e._uploader,this.likes=e.getLikes,this.dislikes=e.getDislikes,this.numberOfViews=e.getViews}return e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.reOrder=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&t!==this._id&&(e[t]=this[t]);var i={};return i[this._id]=e,i},e.prototype.updateAuthor=function(e,t){return t.author=e,t},e.prototype.updateTitle=function(e,t){return t.title=e,t},e}(),r=function(){function e(e){this._id=e,this._name="",this._videoUrl="",this._category="General",this._thumbnails=[],this._isCensored=!1,this._views=0,this._likes=0,this._dislikes=0,this._uploader="",this._id=e}return Object.defineProperty(e.prototype,"ID",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getDislikes",{get:function(){return this._dislikes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getLikes",{get:function(){return this._likes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getViews",{get:function(){return this._views},enumerable:!0,configurable:!0}),e.prototype.title=function(e){return this._name=e,this},e.prototype.video=function(e){return this._videoUrl=e,this},e.prototype.categoryType=function(e){return this._category=e,this},e.prototype.videoThumbnails=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._thumbnails=e,this},e.prototype.censored=function(e){return this._isCensored=e,this},e.prototype.author=function(e){return this._uploader=e,this},e.prototype.views=function(e){return this._views=e,this},e.prototype.likes=function(e){return this._likes=e,this},e.prototype.dislikes=function(e){return this._dislikes=e,this},e.prototype.build=function(){return new o(this)},e}(),n=function(){function e(){this.videosList=[]}return e.prototype.createVideo=function(e){return this.videosList.push(e),this.videosList},e.prototype.getVideos=function(){for(var e=1;e<this.videosList.length+1;e++)console.log("Video - "+e),console.log(this.videosList[e-1]);return this.videosList},e.prototype.getVideoDetailsById=function(e){for(var t=0,i=this.videosList;t<i.length;t++){var o=i[t];if(Object.keys(o)[0]===String(e))return o}return{}},e.prototype.getVideoDetailsByTitle=function(e){for(var t=0,i=this.videosList;t<i.length;t++){var o=i[t];for(var r in o)if(o[r].title===e)return o}return{}},e.prototype.deleteVideoById=function(e){for(var t=0,i=this.videosList;t<i.length;t++){var o=i[t],r=this.videosList.indexOf(o);Object.keys(o)[0]===String(e)&&1!==r&&this.videosList.splice(r,1)}return this.videosList},e.prototype.updateVideoById=function(e,t){for(var i=0,o=this.videosList;i<o.length;i++){var r=o[i],n=this.videosList.indexOf(r),s=Object.keys(r)[0];s===String(e)&&1!==n&&(this.videosList[n][s]=Object.assign(this.videosList[n][s],t))}return this.videosList},e}(),s=new r(1001).title("Thor").categoryType("Action").censored(!1).likes(25e4).dislikes(1500).views(5711846).author("Vikas").build().reOrder(),u=new r(1002).title("Hulk").categoryType("Action").censored(!1).likes(45587744).dislikes(1554).views(7884477946).build().reOrder(),d=new r(1003).title("Captain").categoryType("Comic").censored(!1).likes(4558774).dislikes(154).views(78877946).build().reOrder(),l=new n;console.log("Initial videos:"),l.createVideo(s),l.createVideo(u),l.getVideos(),console.log("After adding new videos:"),l.createVideo(d),l.getVideos(),console.log("After updation: "),l.updateVideoById(1001,{title:"Thor-2",uploader:"Vikas Pulluri"}),console.log(s),l.deleteVideoById(1003),console.log("After Deletion: "),l.getVideos(),console.log("Getting videos by id"),console.log(l.getVideoDetailsById(1002))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1lvdXR1YmVEVE8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZpZGVvQnVpbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvWW91dHViZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIllvdXR1YmVEVE8iLCJidWlsZGVyIiwidGhpcyIsIm51bWJlck9mVmlld3MiLCJsaWtlcyIsImRpc2xpa2VzIiwidGl0bGUiLCJfbmFtZSIsIl9pZCIsIklEIiwidmlkZW9VcmwiLCJfdmlkZW9VcmwiLCJ2aWRlb0NhdGVnb3J5IiwiX2NhdGVnb3J5IiwidmlkZW9UaHVtYm5haWxzVXJsIiwiX3RodW1ibmFpbHMiLCJpc0NlbnNvcmVkQ29uZW50IiwiX2lzQ2Vuc29yZWQiLCJ1cGxvYWRlciIsIl91cGxvYWRlciIsImdldExpa2VzIiwiZ2V0RGlzbGlrZXMiLCJnZXRWaWV3cyIsInRvU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlT3JkZXIiLCJvYmoiLCJvYmoyIiwidXBkYXRlQXV0aG9yIiwiYXV0aG9yIiwidXBkYXRlVGl0bGUiLCJWaWRlb0J1aWxkZXJfVmlkZW9CdWlsZGVyIiwiVmlkZW9CdWlsZGVyIiwiX3ZpZXdzIiwiX2xpa2VzIiwiX2Rpc2xpa2VzIiwidmlkZW8iLCJwYXRoIiwiY2F0ZWdvcnlUeXBlIiwidHlwZSIsInZpZGVvVGh1bWJuYWlscyIsImltYWdlcyIsIl9pIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2Vuc29yZWQiLCJmbGFnIiwidmlld3MiLCJidWlsZCIsIllvdXR1YmUiLCJ2aWRlb3NMaXN0IiwiY3JlYXRlVmlkZW8iLCJ2aWRlb0RldGFpbHMiLCJwdXNoIiwiZ2V0VmlkZW9zIiwiY29uc29sZSIsImxvZyIsImdldFZpZGVvRGV0YWlsc0J5SWQiLCJpZCIsIl9hIiwia2V5cyIsIlN0cmluZyIsImdldFZpZGVvRGV0YWlsc0J5VGl0bGUiLCJpdGVtIiwiZGVsZXRlVmlkZW9CeUlkIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwidXBkYXRlVmlkZW9CeUlkIiwidXBkYXRlZE9iamVjdCIsInZpZCIsImFzc2lnbiIsInZpZGVvMSIsInZpZGVvMiIsInZpZGVvMyIsInlvdXR1YmUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVB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LElBQUltQixFQUFRbEIsb0JBQW9CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7VmlkZW9CdWlsZGVyfSBmcm9tICcuL1ZpZGVvQnVpbGRlcic7XHJcbmV4cG9ydCBjbGFzcyBZb3V0dWJlRFRPIHtcclxuICAgIHB1YmxpYyB0aXRsZTpzdHJpbmc7IFxyXG4gICAgcHVibGljIHZpZGVvVXJsOnN0cmluZztcclxuICAgIHB1YmxpYyB2aWRlb0NhdGVnb3J5OnN0cmluZztcclxuICAgIHB1YmxpYyB2aWRlb1RodW1ibmFpbHNVcmw6c3RyaW5nW107XHJcbiAgICBwdWJsaWMgaXNDZW5zb3JlZENvbmVudDpib29sZWFuO1xyXG4gICAgcHVibGljIG51bWJlck9mVmlld3M6bnVtYmVyID0gMDs7XHJcbiAgICBwdWJsaWMgbGlrZXM6bnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBkaXNsaWtlczpudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHVwbG9hZGVyOnN0cmluZyA7XHJcbiAgICBwdWJsaWMgX2lkOm51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6VmlkZW9CdWlsZGVyKXtcclxuICAgICAgICB0aGlzLnRpdGxlID0gYnVpbGRlci5fbmFtZTtcclxuICAgICAgICB0aGlzLl9pZCA9IGJ1aWxkZXIuSUQ7XHJcbiAgICAgICAgdGhpcy52aWRlb1VybCA9IGJ1aWxkZXIuX3ZpZGVvVXJsO1xyXG4gICAgICAgIHRoaXMudmlkZW9DYXRlZ29yeSA9IGJ1aWxkZXIuX2NhdGVnb3J5O1xyXG4gICAgICAgIHRoaXMudmlkZW9UaHVtYm5haWxzVXJsID0gYnVpbGRlci5fdGh1bWJuYWlscyB8fCBbXTtcclxuICAgICAgICB0aGlzLmlzQ2Vuc29yZWRDb25lbnQgPSBidWlsZGVyLl9pc0NlbnNvcmVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBsb2FkZXIgPSBidWlsZGVyLl91cGxvYWRlcjtcclxuICAgICAgICB0aGlzLmxpa2VzID0gYnVpbGRlci5nZXRMaWtlcztcclxuICAgICAgICB0aGlzLmRpc2xpa2VzID0gYnVpbGRlci5nZXREaXNsaWtlcztcclxuICAgICAgICB0aGlzLm51bWJlck9mVmlld3MgPSBidWlsZGVyLmdldFZpZXdzO1xyXG4gICAgfVxyXG5cclxuICAgIHRvU3RyaW5nKCk6c3RyaW5ne1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICByZU9yZGVyKCk6b2JqZWN0e1xyXG4gICAgICAgIGxldCBvYmo6IHtbazogc3RyaW5nXTogYW55fSA9IHt9O1xyXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcclxuICAgICAgICBmb3IobGV0IGtleSBpbiB0aGlzKXtcclxuICAgICAgICAgICAgaWYodGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGtleSAhPT0gdGhpcy5faWQpe1xyXG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB0aGlzW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IG9iajI6IHtbazogbnVtYmVyXTogYW55fSA9IHt9O1xyXG4gICAgICAgIG9iajJbdGhpcy5faWRdID0gb2JqO1xyXG4gICAgICAgIHJldHVybiBvYmoyO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQXV0aG9yKGF1dGhvcjpzdHJpbmcsb2JqOntbazpzdHJpbmddOmFueX0pOm9iamVjdHtcclxuICAgICAgICBvYmouYXV0aG9yID0gYXV0aG9yO1xyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVUaXRsZSh0aXRsZTpzdHJpbmcsb2JqOntbazpzdHJpbmddOmFueX0pOm9iamVjdHtcclxuICAgICAgICBvYmoudGl0bGUgPSB0aXRsZTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQge1lvdXR1YmVEVE99IGZyb20gJy4vWW91dHViZURUTyc7XHJcbmV4cG9ydCBjbGFzcyBWaWRlb0J1aWxkZXJ7XHJcbiAgICBwdWJsaWMgX25hbWU6c3RyaW5nID0gXCJcIjtcclxuICAgIHB1YmxpYyBfdmlkZW9Vcmw6c3RyaW5nID0gXCJcIjtcclxuICAgIHB1YmxpYyBfY2F0ZWdvcnk6c3RyaW5nID0gXCJHZW5lcmFsXCI7XHJcbiAgICBwdWJsaWMgX3RodW1ibmFpbHM6c3RyaW5nW10gPSBbXTtcclxuICAgIHB1YmxpYyBfaXNDZW5zb3JlZDpib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgX3ZpZXdzOm51bWJlciA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgX2xpa2VzOm51bWJlciA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgX2Rpc2xpa2VzOm51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgX3VwbG9hZGVyOnN0cmluZyA9IFwiXCI7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfaWQ6bnVtYmVyKXtcclxuICAgICAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgSUQoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBnZXREaXNsaWtlcygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNsaWtlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZ2V0TGlrZXMoKTpudW1iZXJ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpa2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBnZXRWaWV3cygpOm51bWJlcntcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmlld3M7XHJcbiAgICB9XHJcblxyXG4gICAgdGl0bGUobmFtZTpzdHJpbmcpOlZpZGVvQnVpbGRlcntcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICB2aWRlbyhwYXRoOnN0cmluZyk6VmlkZW9CdWlsZGVye1xyXG4gICAgICAgIHRoaXMuX3ZpZGVvVXJsID0gcGF0aDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBjYXRlZ29yeVR5cGUodHlwZTpzdHJpbmcpOlZpZGVvQnVpbGRlcntcclxuICAgICAgICB0aGlzLl9jYXRlZ29yeSA9IHR5cGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgdmlkZW9UaHVtYm5haWxzKC4uLmltYWdlczpzdHJpbmdbXSk6VmlkZW9CdWlsZGVye1xyXG4gICAgICAgIHRoaXMuX3RodW1ibmFpbHMgPSBpbWFnZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgY2Vuc29yZWQoZmxhZzpib29sZWFuKTpWaWRlb0J1aWxkZXJ7XHJcbiAgICAgICAgdGhpcy5faXNDZW5zb3JlZCA9IGZsYWc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXV0aG9yKHVwbG9hZGVyOnN0cmluZyk6VmlkZW9CdWlsZGVye1xyXG4gICAgICAgIHRoaXMuX3VwbG9hZGVyID0gdXBsb2FkZXI7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICB2aWV3cyh2aWV3czpudW1iZXIpOlZpZGVvQnVpbGRlcntcclxuICAgICAgICB0aGlzLl92aWV3cyA9IHZpZXdzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgbGlrZXMobGlrZXM6bnVtYmVyKTpWaWRlb0J1aWxkZXJ7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGRpc2xpa2VzKGRpc2xpa2VzOm51bWJlcik6VmlkZW9CdWlsZGVye1xyXG4gICAgICAgIHRoaXMuX2Rpc2xpa2VzID0gZGlzbGlrZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBidWlsZCgpOllvdXR1YmVEVE97XHJcbiAgICAgICAgcmV0dXJuIG5ldyBZb3V0dWJlRFRPKHRoaXMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHtWaWRlb0J1aWxkZXJ9IGZyb20gJy4vVmlkZW9CdWlsZGVyJztcclxuXHJcbmNsYXNzIFlvdXR1YmV7XHJcbiAgICBwcm90ZWN0ZWQgdmlkZW9zTGlzdDpvYmplY3RbXSA9IFtdO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcblxyXG4gICAgY3JlYXRlVmlkZW8odmlkZW9EZXRhaWxzOm9iamVjdCk6b2JqZWN0W117XHJcbiAgICAgICAgdGhpcy52aWRlb3NMaXN0LnB1c2godmlkZW9EZXRhaWxzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy52aWRlb3NMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZGVvcygpe1xyXG4gICAgICAgIGZvcihsZXQgaT0xO2k8dGhpcy52aWRlb3NMaXN0Lmxlbmd0aCsxO2krKyl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBWaWRlbyAtICR7aX1gKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy52aWRlb3NMaXN0W2ktMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy52aWRlb3NMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFZpZGVvRGV0YWlsc0J5SWQoaWQ6bnVtYmVyKTpvYmplY3R7XHJcbiAgICAgICAgZm9yKGxldCB2aWRlbyBvZiB0aGlzLnZpZGVvc0xpc3Qpe1xyXG4gICAgICAgICAgICBpZihPYmplY3Qua2V5cyh2aWRlbylbMF0gPT09IFN0cmluZyhpZCkpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpZGVvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRWaWRlb0RldGFpbHNCeVRpdGxlKHRpdGxlOnN0cmluZyk6b2JqZWN0e1xyXG4gICAgICAgIGZvcihsZXQgdmlkZW8gb2YgdGhpcy52aWRlb3NMaXN0KXtcclxuICAgICAgICAgICAgZm9yKGxldCBpdGVtIGluIHZpZGVvKXtcclxuICAgICAgICAgICAgICAgIGlmKHZpZGVvW2l0ZW1dLnRpdGxlID09PSB0aXRsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpZGVvO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVWaWRlb0J5SWQoaWQ6bnVtYmVyKTpvYmplY3RbXXtcclxuICAgICAgICBmb3IobGV0IHZpZGVvIG9mIHRoaXMudmlkZW9zTGlzdCl7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMudmlkZW9zTGlzdC5pbmRleE9mKHZpZGVvKTtcclxuICAgICAgICAgICAgaWYoT2JqZWN0LmtleXModmlkZW8pWzBdID09PSBTdHJpbmcoaWQpICYmIGluZGV4ICE9PSAxKXtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9zTGlzdC5zcGxpY2UoaW5kZXgsMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9zTGlzdDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVWaWRlb0J5SWQoaWQ6bnVtYmVyLHVwZGF0ZWRPYmplY3Q6b2JqZWN0KTp7W2s6c3RyaW5nXTphbnl9W117XHJcbiAgICAgICAgZm9yKGxldCB2aWRlbyBvZiB0aGlzLnZpZGVvc0xpc3Qpe1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLnZpZGVvc0xpc3QuaW5kZXhPZih2aWRlbyk7XHJcbiAgICAgICAgICAgIGxldCB2aWQ6YW55ID0gT2JqZWN0LmtleXModmlkZW8pWzBdO1xyXG4gICAgICAgICAgICBpZih2aWQgPT09IFN0cmluZyhpZCkgJiYgaW5kZXggIT09IDEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWRlb3NMaXN0W2luZGV4XVt2aWRdID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24odGhpcy52aWRlb3NMaXN0W2luZGV4XVt2aWRdLHVwZGF0ZWRPYmplY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZGVvc0xpc3Q7XHJcbiAgICB9XHJcbn1cclxuXHJcbmxldCB2aWRlbzEgPSBuZXcgVmlkZW9CdWlsZGVyKDEwMDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aXRsZShcIlRob3JcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGVnb3J5VHlwZShcIkFjdGlvblwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2Vuc29yZWQoZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5saWtlcygyNTAwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNsaWtlcygxNTAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudmlld3MoNTcxMTg0NilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF1dGhvcignVmlrYXMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVPcmRlcigpO1xyXG5sZXQgdmlkZW8yID0gbmV3IFZpZGVvQnVpbGRlcigxMDAyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGl0bGUoXCJIdWxrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRlZ29yeVR5cGUoXCJBY3Rpb25cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNlbnNvcmVkKGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubGlrZXMoNDU1ODc3NDQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNsaWtlcygxNTU0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudmlld3MoNzg4NDQ3Nzk0NilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlT3JkZXIoKTtcclxubGV0IHZpZGVvMyA9IG5ldyBWaWRlb0J1aWxkZXIoMTAwMylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRpdGxlKFwiQ2FwdGFpblwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0ZWdvcnlUeXBlKFwiQ29taWNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNlbnNvcmVkKGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAubGlrZXMoNDU1ODc3NClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRpc2xpa2VzKDE1NClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnZpZXdzKDc4ODc3OTQ2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVPcmRlcigpO1xyXG5jb25zdCB5b3V0dWJlID0gbmV3IFlvdXR1YmUoKTtcclxuXHJcbmNvbnNvbGUubG9nKCdJbml0aWFsIHZpZGVvczonKTtcclxuXHJcbi8vQ3JlYXRpbmcgdmlkZW9zXHJcbnlvdXR1YmUuY3JlYXRlVmlkZW8odmlkZW8xKTtcclxueW91dHViZS5jcmVhdGVWaWRlbyh2aWRlbzIpO1xyXG55b3V0dWJlLmdldFZpZGVvcygpO1xyXG5cclxuY29uc29sZS5sb2coJ0FmdGVyIGFkZGluZyBuZXcgdmlkZW9zOicpO1xyXG55b3V0dWJlLmNyZWF0ZVZpZGVvKHZpZGVvMyk7XHJcblxyXG4vL0dldCB2aWRlb3NcclxueW91dHViZS5nZXRWaWRlb3MoKTtcclxuXHJcblxyXG4vL1VwZGF0ZSB2aWRlb3NcclxuY29uc29sZS5sb2coXCJBZnRlciB1cGRhdGlvbjogXCIpXHJcbnlvdXR1YmUudXBkYXRlVmlkZW9CeUlkKDEwMDEse3RpdGxlOlwiVGhvci0yXCIsdXBsb2FkZXI6XCJWaWthcyBQdWxsdXJpXCJ9KTtcclxuXHJcbmNvbnNvbGUubG9nKHZpZGVvMSk7XHJcblxyXG4vL0RlbGV0ZSB2aWRlb3NcclxueW91dHViZS5kZWxldGVWaWRlb0J5SWQoMTAwMyk7XHJcbmNvbnNvbGUubG9nKCdBZnRlciBEZWxldGlvbjogJyk7XHJcbnlvdXR1YmUuZ2V0VmlkZW9zKCk7XHJcblxyXG4vL0dldCB2aWRlb3MgYnkgSURcclxuY29uc29sZS5sb2coJ0dldHRpbmcgdmlkZW9zIGJ5IGlkJyk7XHJcbmNvbnNvbGUubG9nKHlvdXR1YmUuZ2V0VmlkZW9EZXRhaWxzQnlJZCgxMDAyKSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=